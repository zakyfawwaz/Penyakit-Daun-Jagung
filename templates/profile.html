<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil Saya - Corn Disease Classification</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        .profile-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .profile-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .profile-name {
            font-size: 2.5em;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }

        body.dark-theme .profile-name {
            color: #e0e0e0;
        }

        .profile-username {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 30px;
        }

        body.dark-theme .profile-username {
            color: #b0b0b0;
        }

        .profile-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            transition: all 0.3s ease;
        }

        body.dark-theme .profile-card {
            background: #2a2a3e;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .profile-section-title {
            font-size: 1.8em;
            font-weight: 700;
            color: #333;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }

        body.dark-theme .profile-section-title {
            color: #e0e0e0;
            border-bottom-color: #3a3a4e;
        }

        .profile-info-grid {
            display: grid;
            gap: 25px;
        }

        .profile-info-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .profile-info-label {
            font-size: 0.9em;
            font-weight: 600;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        body.dark-theme .profile-info-label {
            color: #b0b0b0;
        }

        .profile-info-value {
            font-size: 1.2em;
            color: #333;
            font-weight: 500;
        }

        body.dark-theme .profile-info-value {
            color: #e0e0e0;
        }

        .profile-info-value.empty {
            color: #999;
            font-style: italic;
        }

        body.dark-theme .profile-info-value.empty {
            color: #666;
        }

        .profile-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .btn-profile {
            padding: 12px 30px;
            background: #2e7d32;
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-profile:hover {
            background: #1b5e20;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 125, 50, 0.3);
        }

        .btn-profile-secondary {
            background: #666;
        }

        .btn-profile-secondary:hover {
            background: #555;
        }

        @media (max-width: 768px) {
            .profile-container {
                padding: 20px 15px;
            }

            .profile-card {
                padding: 25px 20px;
            }

            .profile-name {
                font-size: 2em;
            }

            .profile-actions {
                flex-direction: column;
            }

            .btn-profile {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header Navigation -->
    <header class="main-header">
        <div class="header-container">
            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
                ‚ò∞
            </button>
            <div class="header-left">
                <div class="welcome-text">
                    <span class="welcome-label">Selamat datang,</span>
                    <span class="welcome-username">{{ user.full_name or user.username }}</span>
                </div>
            </div>
            <div class="logo">
                <span class="logo-icon">üåΩ</span>
                <span class="logo-text">Corn Disease Classification</span>
            </div>
            <div class="mobile-sidebar-overlay" id="mobileOverlay"></div>
            <nav class="main-nav" id="mainNav">
                <button class="mobile-nav-close" id="mobileNavClose" aria-label="Close menu">‚úï</button>
                <a href="{{ url_for('home') }}" class="nav-link">Home</a>
                <a href="{{ url_for('about') }}" class="nav-link">About</a>
                <a href="{{ url_for('technology') }}" class="nav-link">Technology</a>
                <a href="{{ url_for('detection') }}" class="nav-link">Detection</a>
                <a href="{{ url_for('profile') }}" class="nav-link profile-link active">Profil Saya</a>
            </nav>
            <div class="header-right">
                <button class="theme-toggle" id="themeToggle">
                    <span class="theme-icon">üåô</span>
                    <span class="theme-text">Theme</span>
                </button>
                <a href="{{ url_for('logout') }}" class="logout-btn" title="Logout">
                    <span>
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16 17v-3H9v-4h7V7l5 5-5 5zM14 2a2 2 0 0 1 2 2v2h-2V4H5v16h9v-2h2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9z"/>
                        </svg>
                    </span>
                </a>
            </div>
        </div>
    </header>

    <div class="profile-container">
        <div class="profile-header">
            <h1 class="profile-name">{{ user.full_name or user.username }}</h1>
            <p class="profile-username">@{{ user.username }}</p>
        </div>

        <div class="profile-card">
            <h2 class="profile-section-title">Informasi Profil</h2>
            <div class="profile-info-grid">
                <div class="profile-info-item">
                    <span class="profile-info-label">Nama Lengkap</span>
                    <span class="profile-info-value {% if not user.full_name %}empty{% endif %}">
                        {{ user.full_name or 'Tidak diisi' }}
                    </span>
                </div>

                <div class="profile-info-item">
                    <span class="profile-info-label">Username</span>
                    <span class="profile-info-value">{{ user.username }}</span>
                </div>

                <div class="profile-info-item">
                    <span class="profile-info-label">Email</span>
                    <span class="profile-info-value">{{ user.email }}</span>
                </div>

                <div class="profile-info-item">
                    <span class="profile-info-label">No. Telepon</span>
                    <span class="profile-info-value {% if not user.phone %}empty{% endif %}">
                        {{ user.phone or 'Tidak diisi' }}
                    </span>
                </div>

                <div class="profile-info-item">
                    <span class="profile-info-label">Tanggal Registrasi</span>
                    <span class="profile-info-value">
                        {{ user.created_at.strftime('%d %B %Y') if user.created_at else 'Tidak diketahui' }}
                    </span>
                </div>
            </div>
        </div>

        <div class="profile-actions">
            <a href="{{ url_for('home') }}" class="btn-profile btn-profile-secondary">
                <span>üè†</span> Kembali ke Beranda
            </a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-container">
            <div class="footer-top">
                <div class="footer-brand">
                    <div class="footer-brand-header">
                        <span class="footer-brand-icon">üåΩ</span>
                        <span class="footer-brand-name">Corn Disease Classification</span>
                    </div>
                    <p class="footer-brand-tagline">
                        Menghubungkan Anda dengan teknologi AI canggih untuk deteksi penyakit daun jagung secara akurat dan cepat.
                    </p>
                </div>
            </div>

            <div class="footer-links-wrapper">
                <div class="footer-section">
                    <h3 class="footer-section-title">Quick Links</h3>
                    <div class="footer-links">
                        <a href="{{ url_for('about') }}" class="footer-link">About</a>
                        <a href="{{ url_for('technology') }}" class="footer-link">Technology</a>
                        <a href="{{ url_for('detection') }}" class="footer-link">Detection</a>
                    </div>
                </div>

                <div class="footer-section">
                    <h3 class="footer-section-title">Resources</h3>
                    <div class="footer-links">
                        <a href="{{ url_for('about') }}" class="footer-link">Disease Database</a>
                        <a href="{{ url_for('technology') }}" class="footer-link">AI Technology</a>
                        <a href="{{ url_for('detection') }}" class="footer-link">Detection Guide</a>
                    </div>
                </div>
            </div>

            <div class="footer-contact">
                <div class="footer-section">
                    <h3 class="footer-section-title">Contact</h3>
                    <p class="footer-description">
                        Aplikasi demo untuk klasifikasi penyakit daun jagung menggunakan teknologi Deep Learning ResNet-50 dan Random Forest.
                    </p>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <div class="footer-copyright">
                <p>&copy; 2024 Corn Disease Classification. Educational demo application</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile Menu Toggle - Sidebar Style
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const mainNav = document.getElementById('mainNav');
        const mobileOverlay = document.getElementById('mobileOverlay');
        const mobileNavClose = document.getElementById('mobileNavClose');
        
        function openMobileMenu() {
            if (mainNav) mainNav.classList.add('active');
            if (mobileOverlay) mobileOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeMobileMenu() {
            if (mainNav) mainNav.classList.remove('active');
            if (mobileOverlay) mobileOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }
        
        if (mobileMenuToggle && mainNav) {
            mobileMenuToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                openMobileMenu();
            });

            if (mobileNavClose) {
                mobileNavClose.addEventListener('click', () => {
                    closeMobileMenu();
                });
            }

            if (mobileOverlay) {
                mobileOverlay.addEventListener('click', () => {
                    closeMobileMenu();
                });
            }

            mainNav.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    closeMobileMenu();
                });
            });
        }

        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        
        // Check for saved theme preference or default to light mode
        const currentTheme = localStorage.getItem('theme') || 'light';
        if (currentTheme === 'dark') {
            body.classList.add('dark-theme');
            themeToggle.querySelector('.theme-icon').textContent = '‚òÄÔ∏è';
        }

        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-theme');
            const isDark = body.classList.contains('dark-theme');
            themeToggle.querySelector('.theme-icon').textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });
    </script>
</body>
</html>

